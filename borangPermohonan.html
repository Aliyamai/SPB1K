<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Borang Maklumat Pelajar - Elektrik</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .form-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }
    
    .form-header {
      background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
      color: white;
      padding: 40px 30px;
      text-align: center;
    }
    
    .form-header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      font-weight: 700;
    }
    
    .form-header p {
      font-size: 16px;
      opacity: 0.95;
      font-weight: 500;
    }
    
    .form-content {
      padding: 40px 30px;
    }
    
    .section {
      margin-bottom: 35px;
    }
    
    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: #ff6b35;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #ff6b35;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-title::before {
      content: '';
      width: 5px;
      height: 24px;
      background: #ff6b35;
      border-radius: 3px;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .form-grid.full {
      grid-template-columns: 1fr;
    }
    
    .form-field {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .form-field label {
      font-weight: 600;
      color: #333;
      font-size: 14px;
    }
    
    .form-field input[type="text"],
    .form-field input[type="email"],
    .form-field input[type="tel"],
    .form-field input[type="date"],
    .form-field select {
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 15px;
      transition: all 0.3s ease;
    }
    
    .form-field input:focus,
    .form-field select:focus {
      outline: none;
      border-color: #ff6b35;
      box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
    }
    
    .radio-group,
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      padding: 10px 0;
    }
    
    .radio-group label,
    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      font-weight: 500;
      color: #555;
    }
    
    .radio-group input[type="radio"],
    .checkbox-group input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: #ff6b35;
    }
    
    .parent-card {
      background: #fff8f5;
      border: 2px solid #ffe5dc;
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 20px;
    }
    
    .parent-card h3 {
      color: #ff6b35;
      margin-bottom: 20px;
      font-size: 18px;
      font-weight: 700;
    }
    
    .health-box {
      background: #fffbf0;
      border: 2px solid #ffd966;
      border-radius: 10px;
      padding: 20px;
      margin-top: 15px;
    }
    
    .health-box p {
      font-weight: 600;
      margin-bottom: 15px;
      color: #d97706;
    }
    
    .declaration-box {
      background: #fff8f5;
      border: 2px solid #ff6b35;
      border-radius: 10px;
      padding: 25px;
      margin-top: 20px;
    }
    
    .declaration-box p {
      line-height: 1.8;
      color: #d84315;
      margin-bottom: 20px;
      font-weight: 500;
    }
    
    .signature-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }
    
    .program-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }
    
    .buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 40px;
      padding-top: 30px;
      border-top: 2px solid #e0e0e0;
    }
    
    .btn {
      padding: 14px 35px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-submit {
      background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
      color: white;
    }
    
    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
    }
    
    .btn-back {
      background: #6c757d;
      color: white;
    }
    
    .btn-back:hover {
      background: #5a6268;
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(108, 117, 125, 0.3);
    }
    
    .required {
      color: #dc3545;
      margin-left: 3px;
    }
    
    @media (max-width: 768px) {
      body {
        padding: 20px 10px;
      }
      
      .form-content {
        padding: 30px 20px;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .signature-grid,
      .program-grid {
        grid-template-columns: 1fr;
      }
      
      .buttons {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="form-container">
    <!-- Header -->
    <div class="form-header">
      <h1>BORANG MAKLUMAT PELAJAR</h1>
      <p>Borang Permohonan Kursus</p>
    </div>

    <form class="form-content" id="studentForm">
      <!-- Program Information -->
        <div class="section">
          <div class="section-title">Maklumat Program</div>

          <div class="form-grid">
            <div class="form-field">
              <label>Kategori Program <span class="required">*</span></label>
              <select name="kategori" id="kategori" required>
                <option value="">-- Pilih Kategori --</option>
                <option value="Latihan TVET">Kursus Latihan TVET</option>
                <option value="Diploma MQA Sepenuh Masa">Diploma MQA Sepenuh Masa</option>
                <option value="Diploma WBL">Diploma MQA WBL</option>
                <option value="Diploma Flexi">Diploma MQA Fleksi</option>
              </select>
            </div>

            <div class="form-field">
              <label>Kursus <span class="required">*</span></label>
              <select name="kursus" id="kursus" required>
                <option value="">-- Pilih Kursus --</option>
              </select>
            </div>
          </div>
        </div>

        <script>
          const kursusData = {
            "Latihan TVET": [
              "Elektrik",
              "Penyelenggaraan Pesawat",
              "Multimedia",
              "Kimpalan",
              "Kecantikan",
              "Sistem Komputer",
              "Pengurusan Pejabat",
              "Pastri",
              "Reka Bentuk Grafik",
              "Kulinari",
              "Pendidikan Pra Sekolah",
              "Automasi (Mekatronik)",
              "Pendidikan Awal Kanak-kanak",
              "Automotif",
              "EV Hybrid",
              "Kejuruteraan Mekanikal",
              "Perfileman",
              "Penghawa Dingin",
              "Ukur Tanah",
              "Teknologi Maklumat",
            ],
            "Diploma MQA Sepenuh Masa": [
              "Diploma Pearakaunan",
              "Diploma Pelancongan",
              "Diploma Logistik dan Pengangkutan",
              "Diploma Maritim",
            ],
            "Diploma WBL": [
              "Diploma WBL Perakaunan",
              "Diploma WBL Pengurusan Perniagaan",
              "Diploma WBL Kewangan dan Perbankan Islam",
              "Diploma WBL Pengurusan Logistik",
              "Diploma WBL Pengurusan Sumber Manusia",
              "Diploma WBL Pemasaran Digital",
              "Diploma WBL Pendidikan Awal Kanak-kanak",
              "Diploma WBL Multimedia Kreatif",
              "Diploma WBL Reka Bentuk Grafik",
            ],
            "Diploma Flexi": [
              "Diploma Fleksi Pendidikan Awal Kanak-kanak",
              "Diploma Fleksi Pengurusan Sumber Manusia",
              "Diploma Fleksi Pengurusan Perniagaan",
              "Diploma Fleksi Pengurusan Logistik",
            ]
          };

          const kategoriSelect = document.getElementById("kategori");
          const kursusSelect = document.getElementById("kursus");

          kategoriSelect.addEventListener("change", () => {
            kursusSelect.innerHTML = '<option value="">-- Pilih Kursus --</option>';

            const selected = kategoriSelect.value;
            if (kursusData[selected]) {
              kursusData[selected].forEach(k => {
                const opt = document.createElement("option");
                opt.value = k;
                opt.textContent = k;
                kursusSelect.appendChild(opt);
              });
            }
          });
        </script>

      <!-- Personal Information -->
      <div class="section">
        <div class="section-title">Maklumat Peribadi</div>
        
        <div class="form-grid">
          <div class="form-field">
            <label>Nama Penuh <span class="required">*</span></label>
            <input type="text" name="nama" required>
          </div>
          <div class="form-field">
            <label>No. Kad Pengenalan <span class="required">*</span></label>
            <input type="text" name="nokp" placeholder="XXXXXX-XX-XXXX" required>
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Jantina <span class="required">*</span></label>
            <div class="radio-group">
              <label><input type="radio" name="jantina" value="lelaki" required> Lelaki</label>
              <label><input type="radio" name="jantina" value="perempuan"> Perempuan</label>
            </div>
          </div>
          <div class="form-field">
            <label>Agama</label>
            <input type="text" name="agama">
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Warganegara</label>
            <input type="text" name="warganegara" value="Malaysia">
          </div>
        </div>

        <div class="form-grid full">
          <div class="form-field">
            <label>Alamat Rumah <span class="required">*</span></label>
            <input type="text" name="alamat" required>
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Poskod</label>
            <input type="text" name="poskod">
          </div>
          <div class="form-field">
            <label>Bandar</label>
            <input type="text" name="bandar">
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Negeri</label>
            <input type="text" name="negeri">
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>No. Telefon Rumah</label>
            <input type="tel" name="telefonR">
          </div>
          <div class="form-field">
            <label>No. Telefon Bimbit <span class="required">*</span></label>
            <input type="tel" name="telefonB" required>
          </div>
        </div>

        <div class="form-grid full">
          <div class="form-field">
            <label>Alamat Email</label>
            <input type="email" name="email">
          </div>
        </div>
      </div>

      <!-- Education Background -->
      <div class="section">
        <div class="section-title">Latar Belakang Pendidikan</div>
        
        <div class="form-field">
          <label>Lulusan <span class="required">*</span></label>
          <div class="checkbox-group">
            <label><input type="checkbox" name="lulusan" value="pt3"> PT3/PMR</label>
            <label><input type="checkbox" name="lulusan" value="spm"> SPM</label>
            <label><input type="checkbox" name="lulusan" value="tahfiz"> Tahfiz</label>
            <label><input type="checkbox" name="lulusan" value="diploma"> Diploma</label>
            <label><input type="checkbox" name="lulusan" value="none"> Tiada</label>
            <label><input type="checkbox" name="lulusan" value="lain"> Lain-lain</label>
          </div>
        </div>

        <div class="form-grid full">
          <div class="form-field">
            <label>Keputusan Peperiksaan (jika ada)</label>
            <input type="text" name="keputusan" placeholder="Contoh: BM: A, BI: B, Matematik: A, Sains: B">
          </div>
        </div>

        <div class="form-grid full">
          <div class="form-field">
            <label>Lain-lain Maklumat</label>
            <input type="text" name="lainLain" placeholder="Pengalaman, kemahiran, pencapaian, dll.">
          </div>
        </div>
      </div>

      <!-- Parent/Guardian Information -->
      <div class="section">
        <div class="section-title">Maklumat Ibu Bapa / Penjaga</div>

        <!-- Father Info -->
        <div class="parent-card">
          <h3>Maklumat Bapa</h3>
          <div class="form-grid">
            <div class="form-field">
              <label>Nama Bapa</label>
              <input type="text" name="namaBapa">
            </div>
            <div class="form-field">
              <label>No. K/P Bapa</label>
              <input type="text" name="nokpBapa">
            </div>
          </div>
          <div class="form-grid">
            <div class="form-field">
              <label>Keturunan</label>
              <input type="text" name="keturunanBapa">
            </div>
            <div class="form-field">
              <label>Pekerjaan</label>
              <input type="text" name="pekerjaanBapa">
            </div>
          </div>
          <div class="form-grid">
            <div class="form-field">
              <label>Pendapatan Bulanan (RM)</label>
              <input type="text" name="pendapatanBapa">
            </div>
            <div class="form-field">
              <label>No. Telefon</label>
              <input type="tel" name="hpBapa">
            </div>
          </div>
        </div>

        <!-- Mother Info -->
        <div class="parent-card">
          <h3>Maklumat Ibu</h3>
          <div class="form-grid">
            <div class="form-field">
              <label>Nama Ibu</label>
              <input type="text" name="namaIbu">
            </div>
            <div class="form-field">
              <label>No. K/P Ibu</label>
              <input type="text" name="nokpIbu">
            </div>
          </div>
          <div class="form-grid">
            <div class="form-field">
              <label>Keturunan</label>
              <input type="text" name="keturunanIbu">
            </div>
            <div class="form-field">
              <label>Pekerjaan</label>
              <input type="text" name="pekerjaanIbu">
            </div>
          </div>
          <div class="form-grid">
            <div class="form-field">
              <label>Pendapatan Bulanan (RM)</label>
              <input type="text" name="pendapatanIbu">
            </div>
            <div class="form-field">
              <label>No. Telefon</label>
              <input type="tel" name="hpIbu">
            </div>
          </div>
        </div>
      </div>

      <!-- Health Information -->
      <div class="section">
        <div class="section-title">Maklumat Kesihatan</div>
        
        <div class="health-box">
          <p>Sila tanda mana yang berkaitan dengan kesihatan anda:</p>
          <div class="checkbox-group">
            <label><input type="checkbox" name="kesihatan" value="tiada"> Tiada Masalah Kesihatan</label>
          </div>
          <div class="form-field" style="margin-top: 15px;">
            <label>Jika ada masalah kesihatan, sila nyatakan:</label>
            <input type="text" name="kesihatanNyatakan" placeholder="Nyatakan masalah kesihatan (jika ada)">
          </div>
        </div>
      </div>

     <!-- Declaration -->
      <div class="section">
        <div class="section-title">Pengakuan</div>
        
        <div class="declaration-box">
          <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
            <input type="checkbox" name="pengakuan" required style="margin-top: 4px; width: 20px; height: 20px; accent-color: #ff6b35; cursor: pointer;">
            <span style="flex: 1; line-height: 1.8; color: #d84315; font-weight: 500;">
              Saya mengaku bahawa semua maklumat dan keterangan di atas adalah benar dan tepat. <span class="required">*</span>
            </span>
          </label>
        </div>
      </div>
     
      <!-- Action Buttons -->
      <div class="buttons">
        <button type="submit" class="btn btn-submit">Hantar Permohonan</button>
        <a href="kursus.html" class="btn btn-back">Kembali</a>
      </div>
    </form>
  </div>

  <script>
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyKHYOBFFWVh0N4_H5FA6Oq1jX6TzuHMQ0sExrTtQPeTtdrduivpYXJACljznx9rr-R/exec';
const form = document.getElementById('studentForm');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const btn = form.querySelector('button[type="submit"]');
  btn.disabled = true;
  btn.textContent = 'Menghantar...';

  try {
    const formData = new FormData(form);
    const data = {};

    for (let [key, value] of formData.entries()) {
      if (data[key]) {
        if (!Array.isArray(data[key])) data[key] = [data[key]];
        data[key].push(value);
      } else {
        data[key] = value;
      }
    }

    Object.keys(data).forEach(k => {
      if (Array.isArray(data[k])) data[k] = data[k].join(', ');
    });

    data.kategori = data.kategori || '';
    data.kursus = data.kursus || '';
    data.pengakuan = data.pengakuan ? 'Ya' : '';

    await fetch(SCRIPT_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(data)
    });

    // Tunjuk popup
    const modal = document.getElementById('successModal');
    modal.style.display = 'flex';
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100%';
    modal.style.height = '100%';
    modal.style.alignItems = 'center';
    modal.style.justifyContent = 'center';
    modal.style.background = 'rgba(0,0,0,0.5)';
    modal.style.zIndex = '9999';

  } catch (err) {
    console.error(err);
    alert('‚ùå Ralat berlaku. Sila cuba lagi.');
  } finally {
    btn.disabled = false;
    btn.textContent = 'Hantar Permohonan';
  }
});

// Tutup popup & reset borang
function closeModal() {
  const modal = document.getElementById('successModal');
  modal.style.display = 'none';
  form.reset();
  location.reload();
}
</script>

<!-- Popup HTML -->
<div id="successModal" style="display:none; align-items:center; justify-content:center;">
  <div style="background:white; padding:30px; border-radius:15px; max-width:400px; text-align:center;">
    <h2 style="color:#16a34a;"> Berjaya!</h2>
    <p style="margin:15px 0;">Permohonan anda telah berjaya dihantar.</p>
    <button onclick="closeModal()" style="padding:10px 25px; border:none; background:#ff6b35; color:white; border-radius:8px; cursor:pointer;">OK</button>
  </div>
</div>

</body>
</html>

