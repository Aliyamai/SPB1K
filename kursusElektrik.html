<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elemen Elektrik - Kursus TVET</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header / Banner -->
  <section class="banner">
    <img src="assets/images/electric.jpg" alt="Kursus Elemen Elektrik">
    <div class="banner-text">
      <h1>Kenali Bidang Elektrik</h1>
       </div>
  </section>

  <!-- Kenali Bidang -->
  <section class="content">
    <h2>Prospek</h2>
    <p>
      Latihan kemahiran elektrik menjanjikan prospek yang cerah di masa depan, terutama dengan perkembangan teknologi dan kebergantungan yang semakin meningkat pada sistem elektrik. 
      Keperluan untuk tenaga kerja yang terlatih dalam bidang ini dijangka terus meningkat, termasuk dalam pemasangan, penyelenggaraan, dan pembaikan sistem elektrik untuk rumah, bangunan komersial, dan industri. 
      Kemahiran ini juga penting dalam bidang pembangunan lestari dan teknologi hijau, yang semakin mendapat perhatian global.
    </p>
  </section>

  <!-- Elemen Kursus -->
  <section class="content">
    <h2>Elemen Elektrik</h2>
    <ul>
      <li>Pemasangan dan penyelenggaraan Elektrik satu Fasa</li>
      <li>Pemasangan dan penyelenggaraan Elektrik tiga Fasa</li>
      <li>Kawalan kualiti pemasangan sistem pendawaian elektrik</li>
      <li>Pemasangan sokongan elektrik</li>
      <li>Struktur dan perancangan pendawaian kegunaan Domestik dan Komersial</li>
      <li>Pengujian kefungsian peralatan sistem dan perkabelan elektrik</li>
    </ul>
  </section>

  <!-- Prospek Kerjaya -->
  <section class="content">
    <h2>Prospek Kerjaya</h2>
    <ul>
      <li>Juru Elektrik</li>
      <li>Penyelia Elektrik</li>
      <li>Juruteknik</li>
      <li>Pembantu Pegawai Latihan Vokasional</li>
      <li>Kontraktor Elektrik</li>
      <li>Jurutera Elektrik</li>
    </ul>
  </section>

  <footer>
    <a href="kursus.html" class="btn">← Kembali ke Senarai Kursus</a>
    <a href="borangElektrik.html" class="btn">Mohon Sekarang</a>
  </footer>

  <script>
  // ============================================
  // GANTI URL NI DENGAN WEB APP URL DARI APPS SCRIPT KAU
  // ============================================
  const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwFaX8iZ8QhLcMOT-sWTYl0p0w9UJYgQmY-EZo8xn6x23Q96eVu5pus4GGTW_WjkR7y/exec';

  const form = document.getElementById('studentForm');
  const submitBtn = document.getElementById('submitBtn');
  const alertSuccess = document.getElementById('alertSuccess');
  const alertError = document.getElementById('alertError');

  // Handle form submit
  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    // Hide alerts
    alertSuccess.classList.remove('show');
    alertError.classList.remove('show');
    
    // Disable button & show loading
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="spinner"></span>Menghantar...';
    
    try {
      // Collect form data
      const formData = new FormData(form);
      const data = {};
      
      // Process form fields
      for (let [key, value] of formData.entries()) {
        // Handle checkbox untuk lulusan
        if (key === 'lulusan') {
          if (!data[key]) data[key] = [];
          data[key].push(value);
        } else {
          data[key] = value;
        }
      }
      
      // Convert lulusan array to string
      if (data.lulusan && Array.isArray(data.lulusan)) {
        data.lulusan = data.lulusan.join(', ');
      }
      
      // Combine kesihatan info
      if (data.kesihatan && data.kesihatanNyatakan) {
        data.statusKesihatan = data.kesihatan + ' - ' + data.kesihatanNyatakan;
      } else if (data.kesihatan) {
        data.statusKesihatan = data.kesihatan;
      }
      
      console.log('Data yang dihantar:', data);
      
      // Send to Google Apps Script
      const response = await fetch(SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
      });
      
      // Show success message (no-cors mode tak dapat response, assume success)
      alertSuccess.textContent = '✓ Permohonan anda berjaya dihantar! Terima kasih.';
      alertSuccess.classList.add('show');
      
      // Reset form
      form.reset();
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // Optional: Redirect selepas 3 saat
      setTimeout(() => {
        // Uncomment untuk auto redirect
        // window.location.href = 'kursusElektrik.html';
      }, 3000);
      
    } catch (error) {
      console.error('Error:', error);
      alertError.textContent = '✗ Maaf, terdapat masalah. Sila cuba lagi atau hubungi admin.';
      alertError.classList.add('show');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    } finally {
      // Re-enable button
      submitBtn.disabled = false;
      submitBtn.innerHTML = 'Hantar Permohonan';
    }
  });
</script>

</body>
</html>
